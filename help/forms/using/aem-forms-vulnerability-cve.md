---
title: Réduction des vulnérabilités Log4j2 pour Experience Manager Forms
description: Réduction des vulnérabilités Log4j2 pour Experience Manager Forms
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: Security
geptopics: SG_AEMFORMS/categories/jee
role: Admin
solution: Experience Manager, Experience Manager Forms
feature: Adaptive Forms
source-git-commit: c9d9a4d83a00587ee7b223e328abdef1bdd7438b
workflow-type: tm+mt
source-wordcount: '720'
ht-degree: 10%

---

# Réduction des vulnérabilités Log4j2 pour Experience Manager Forms

## Problème

Des vulnérabilités de sécurité critiques ont été signalées pour Apache Log4j2, une bibliothèque de journalisation populaire pour les applications Java. Les vulnérabilités suivantes ont été analysées :

<table border="1">
  <tr>
    <th>Vulnérabilité</th>
    <th>Qu’est-ce qui est affecté ?</th>
    <th>Qu’est-ce qui n’est pas impacté ?</th>
    <th>Statut</th>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44228">CVE-2021-44228</a></td>
    <td rowspan="2">
      <ul>
        <li>Experience Manager 6.5 Forms on JEE (toutes les versions, de la version 6.5 GA à la version 6.5.11)</li>
        <li>Experience Manager 6.4 Forms on JEE (toutes les versions, de la version 6.4 GA à la version 6.4.8)</li>
        <li>Experience Manager 6.3 Forms on JEE (toutes les versions, de la version 6.3 GA à la version 6.3.3)</li>
        <li>Designer Forms Experience Manager 6.5</li>
        <li>Experience Manager 6.4 Forms Designer</li>
        <li>Service de conversion automatisée de formulaires</li>
      </ul>
    </td>
    <td rowspan="2">
      <ul>
        <li>Workbench Experience Manager Forms (toutes les versions)</li>
        <li>Experience Manager Forms sur OSGi (toutes les versions)</li>
      </ul>
    </td>
    <td rowspan="2">
      Ceux-ci ont été corrigés. Voir la section <strong>Résolution</strong> pour connaître les étapes de correction et de réduction.
    </td>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-45046">CVE-2021-45046</a></td>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45105">CVE-2021-45105</a></td>
    <td rowspan="9" colspan="2">
      Aucun impact sur les versions de Experience Manager Forms pour les configurations de journalisation prêtes à l’emploi. Si vous disposez de configurations de journalisation supplémentaires, vérifiez-les pour les vulnérabilités suivantes.
    </td>
  </tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44832">CVE-2021-44832</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-4104">CVE-2021-4104</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-22963">CVE-2022-22963</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-22965">CVE-2022-22965</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-9488">CVE-2020-9488</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-23302">CVE-2022-23307</a></td><td></td></tr>
</table>

>[!NOTE]
> 
> AEM 6.5.13.0 Forms et les versions antérieures incluent les bibliothèques Log4j (1.x et 2.17.1). Les bibliothèques AEM Forms Log4j 1.x dans AEM 6.5.13.0 Forms et les versions antérieures ne font pas partie de la vulnérabilité signalée et ne sont pas non plus considérées comme vulnérables dans les analyses de code AEM Forms effectuées par Adobe. Cependant, toutes les bibliothèques Log4j 1.x sont supprimées dans la version 6.5.14. Pour obtenir des instructions sur l’installation d’AEM 6.5.14.0 ou une version ultérieure, voir [notes de mise à jour](https://experienceleague.adobe.com/fr/docs/experience-manager-65/content/release-notes/release-notes).

## Résolution

Vous pouvez utiliser l’une des méthodes suivantes pour atténuer le risque de cette vulnérabilité :

* Installer le dernier pack de services
* Utiliser les étapes d’atténuation manuelles

**Installer le dernier Pack de services**

>[!CAUTION]
> 
> Si vous avez appliqué un correctif logiciel sur l’environnement Experience Manager Forms Service Pack 6.3.3.8 ou Experience Manager Forms Service Pack 6.4.8.4, n’installez pas le pack de services avec les correctifs de vulnérabilités (répertoriés ci-dessous). L’installation de ces packs de services peut remplacer le correctif. Adobe recommande d’utiliser les **étapes de réduction manuelle** dans un tel scénario.

<table border="1" cellpadding="8" cellspacing="0">
  <thead>
    <tr>
      <th>Version</th>
      <th>Version</th>
      <th>Lien de téléchargement/action utilisateur</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Experience Manager 6.5 Forms on JEE</td>
      <td>AEMForms-6.5.0-0038 (log4jv2.16)</td>
      <td rowspan="5">Téléchargez à partir de <a href="https://auth.services.adobe.com/en_US/index.html?callback=https%3A%2F%2Fims-na1.adobelogin.com%2Fims%2Fadobeid%2Fexc_app%2FAdobeID%2Ftoken%3Fredirect_uri%3Dhttps%253A%252F%252Fexperience.adobe.com%252F%2523old_hash%253Dold_hash%253D%252523%25252Fdownloads%2526from_ims%253Dtrue%253Fclient_id%253Dexc_app%2526api%253Dauthorize%2526scope%253Dab.manage%252Caccount_cluster.read%252Cadditional_info%252Cadditional_info.job_function%252Cadditional_info.projectedProductContext%252Cadditional_info.roles%252CAdobeID%252Cadobeio.appregistry.read%252Cadobeio_api%252Caudiencemanager_api%252Ccreative_cloud%252Cmps%252Copenid%252Corg.read%252Cpps.read%252Cread_organizations%252Cread_pc%252Cread_pc.acp%252Cread_pc.dma_tartan%252Csession%26state%3D%257B%2522jslibver%2522%253A%2522v2-v0.31.0-2-g1e8a8a8%2522%252C%2522nonce%2522%253A%25223811059492261787%2522%257D%26code_challenge_method%3Dplain%26use_ms_for_expiry%3Dtrue&amp;client_id=exc_app&amp;scope=ab.manage%2Caccount_cluster.read%2Cadditional_info%2Cadditional_info.job_function%2Cadditional_info.projectedProductContext%2Cadditional_info.roles%2CAdobeID%2Cadobeio.appregistry.read%2Cadobeio_api%2Caudiencemanager_api%2Ccreative_cloud%2Cmps%2Copenid%2Corg.read%2Cpps.read%2Cread_organizations%2Cread_pc%2Cread_pc.acp%2Cread_pc.dma_tartan%2Csession&amp;state=%7B%22jslibver%22%3A%22v2-v0.31.0-2-g1e8a8a8%22%2C%22nonce%22%3A%223811059492261787%22%7D&amp;relay=2cf36844-ac87-4b40-a6fe-9a06cd0a01b8&amp;locale=en_US&amp;flow_type=token&amp;dctx_id=v%3A2%2Cs%2Cf%2Cb8e64530-b013-11ee-a6c1-e721bdec0171&amp;idp_flow_type=login&amp;response_type=token&amp;profile_filter=%7B%22findFirst%22%3Atrue%2C+%22fallbackToAA%22%3Atrue%2C+%22preferForwardProfile%22%3Atrue%2C+%22searchEntireCluster%22%3Afalse%7D%3B+hasPC%28%22dma_tartan%22%29&amp;code_challenge_method=plain&amp;redirect_uri=https%3A%2F%2Fexperience.adobe.com%2F%23old_hash%3Dold_hash%3D%2523%252Fdownloads%26from_ims%3Dtrue%3Fclient_id%3Dexc_app%26api%3Dauthorize%26scope%3Dab.manage%2Caccount_cluster.read%2Cadditional_info%2Cadditional_info.job_function%2Cadditional_info.projectedProductContext%2Cadditional_info.roles%2CAdobeID%2Cadobeio.appregistry.read%2Cadobeio_api%2Caudiencemanager_api%2Ccreative_cloud%2Cmps%2Copenid%2Corg.read%2Cpps.read%2Cread_organizations%2Cread_pc%2Cread_pc.acp%2Cread_pc.dma_tartan%2Csession&amp;use_ms_for_expiry=true#/">Distribution logicielle</a>.</td>
    </tr>
    <tr>
      <td>Experience Manager 6.4 Forms on JEE</td>
      <td>AEMForms-6.4.0-0027</td>
    </tr>
    <tr>
      <td>Experience Manager 6.3 Forms on JEE</td>
      <td>AEMForms-6.3.0-0047</td>
    </tr>
    <tr>
      <td>Designer Forms Experience Manager 6.5</td>
      <td>AEM Forms Designer v650.019</td>
    </tr>
    <tr>
      <td>Experience Manager 6.4 Forms Designer</td>
      <td>AEM Forms Designer v640.012</td>
    </tr>
    <tr>
      <td>Service de conversion automatisée de formulaires</td>
      <td>Les étapes de réduction ont été identifiées et le service a été réparé.</td>
      <td>Il n’y a aucune action de l’utilisateur.</td>
    </tr>
  </tbody>
</table>

## Utiliser les étapes d’atténuation manuelles

Pour atténuer ce problème, pour Experience Manager 6.5 Forms (log4j-core version 2.10 et ultérieures), Experience Manager 6.4 Forms (log4j-core version antérieure à 2.10) et Experience Manager 6.3 Forms (log4j-core version antérieure à 2.10), effectuez les étapes suivantes :

1. Arrêtez toutes les instances de serveur et tous les localisateurs.

1. Supprimez les `org/apache/logging/log4j/core/lookup/JndiLookup.class` des `log4j-core-2.xx.jar` vulnérables disponibles aux emplacements suivants :

   * **EAR déployable :**

   ```javascript
   <FORMS_INSTALLATION_DIRECTORY>/configurationManager/export/adobe-livecycle-[jboss|weblogic|websphere].ear
   ```

   * **Localisateur GemFire ou Geode :**

   ```javascript
   <FORMS_INSTALLATION_DIRECTORY>/lib/caching/lib
   ```

   Pour mettre à jour des fichiers EAR déployables, en fonction de votre système d’exploitation, vous pouvez utiliser l’une des méthodes suivantes pour supprimer le `JndiLookup.class` des `log4j-core-2.xx.jar` vulnérables :

   * (Linux avec Oracle WebLogic ou Redhat JBoss) : exécutez la commande suivante. Mettez à jour les informations du `version` et du serveur d’applications avant d’exécuter ces commandes :

   ```javascript
   unzip adobe-livecycle-<weblogic|jboss>.ear lib/log4j-core-<version>.jar
   ```

   ```javascript
   zip -d lib/log4j-core-xxx.jar org/apache/logging/log4j/core/lookup/JndiLookup.  class
   ```

   ```javascript
   zip -ru adobe-livecycle-jboss.ear lib/log4j-core-<version>.jar
   ```

   * (Linux avec IBM WebSphere) : Exécutez la commande suivante. Mettez à jour les informations du `version` et du serveur d’applications avant d’exécuter ces commandes :

   ```javascript
   unzip adobe-livecycle-websphere.ear log4j-core-<version>.jar
   ```

   ```javascript
   zip -d log4j-core-xxx.jar org/apache/logging/log4j/core/lookup/JndiLookup.class
   ```

   * (Microsoft Windows) : utilisez un outil d’interface utilisateur graphique tel que [7-Zip](https://www.7-zip.org/) pour supprimer le fichier de classe.
1. Répétez l’étape 2 pour chaque instance (nœud) de serveur d’applications et tous les services de localisation (le cas échéant).

1. Après avoir mis à jour le fichier jar, redéployez le fichier EAR modifié et redémarrez tous les processus du localisateur et toutes les instances de serveur.

>[!NOTE]
> 
> * Remplacez la copie d’origine du fichier jar log4j-core-2.xx par la copie mise à jour. Aucune autre modification n’est requise.
> * Lorsque Configuration Manager est à nouveau exécuté, le contenu de `<FORMS_INSTALLATION_DIRECTORY/configurationManager/export` peut être remplacé.   Pour éviter de rétablir la modification ci-dessus à chaque fois que cela se produit, mettez à jour le fichier jar dans `<FORMS_INSTALLATION_DIRECTORY>/deploy/adobe-core-[jboss|weblogic|websphere].ear`. Cela permet de s’assurer que le `adobe-livecycle-[jboss|weblogic|websphere].ear` produit par Configuration Manager dispose déjà du `log4j-core-2.xx jar` mis à jour.
> * Les modifications manuelles apportées aux artefacts déployables peuvent être remplacées lors de l&#39;application de correctifs ou de la mise à niveau. Si cela se produit, réappliquez la procédure.

## Références

[https://logging.apache.org/log4j/2.x/security.html](https://logging.apache.org/security.html)

**Qui dois-je contacter si j’ai d’autres questions ou des problèmes lors de l’exécution des étapes de réduction ?**

Vous pouvez contacter l’[assistance Adobe](https://experienceleague.adobe.com/?lang=fr&amp;support-solution=Experience+Manager#support) ou ouvrir un [ticket d’assistance](https://experienceleague.adobe.com/en/docs/customer-one/using/home#submit-ticket).

**Qui dois-je contacter si j’ai d’autres questions ou des problèmes lors de l’exécution des étapes de réduction ?**
[Mentions légales](https://helpx.adobe.com/legal/legal-notices.html)    |    [Politique de confidentialité en ligne](https://www.adobe.com/fr/privacy.html)